# waterfall

API 요청 컨텍스트에서 "워터폴"이라는 용어는 이전 호출의 결과에 따라 각 호출이 특정 순서로 수행되는 API 호출의 특정 패턴을 나타낼 수 있습니다.

이 접근 방식은 API가 특정 작업에 필요한 모든 데이터를 검색하기 위해 여러 요청을 요구할 때 자주 사용됩니다. 자원 집약적일 수 있고 하나의 요청이 실패할 경우 오류가 발생할 수 있는 모든 요청을 동시에 작성하는 대신 미리 결정된 순서에 따라 요청이 하나씩 작성됩니다.

예를 들어 전자 상거래 API에서 사용자 주문에 대한 정보를 검색한다고 가정해 보겠습니다. 다음은 이 데이터를 검색하기 위해 폭포수 방식을 사용하는 방법의 예입니다.

1. API에 로그인 요청을 전송하여 사용자를 인증합니다.
2. 사용자가 인증되면 사용자의 주문 내역 검색 요청을 보냅니다.
3. 주문 내역의 각 주문에 대해 주문에 대한 자세한 정보 검색 요청을 보냅니다.
4. 이전 요청의 모든 데이터를 결합하여 사용자에게 표시합니다.

이 접근 방식은 필요한 모든 데이터를 올바른 순서로 검색하고 오류 또는 불완전한 데이터의 위험을 최소화하는 데 도움이 될 수 있습니다. 그러나 순서대로 작성해야 하는 요청이 많은 경우 응답 시간이 느려질 수도 있습니다.

반대로 일부 API는 병렬 요청이 동시에 이루어지도록 허용하므로 응답 시간이 빨라질 수 있지만 오류 및 요청 간의 종속성을 보다 신중하게 처리해야 할 수 있습니다.